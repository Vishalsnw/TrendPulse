"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/google";
exports.ids = ["pages/api/google"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "cheerio":
/*!**************************!*\
  !*** external "cheerio" ***!
  \**************************/
/***/ ((module) => {

module.exports = import("cheerio");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgoogle.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgoogle.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_google_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/google.js */ \"(api)/./pages/api/google.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_google_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_google_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_google_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_google_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/google\",\n        pathname: \"/api/google\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_google_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdvb2dsZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZ29vZ2xlLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tEO0FBQ2xEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJlbmRwdWxzZS8/ZGQxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2dvb2dsZS5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dvb2dsZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dvb2dsZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgoogle.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/scrapers.js":
/*!*************************!*\
  !*** ./lib/scrapers.js ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGoogleTrending: () => (/* binding */ getGoogleTrending),\n/* harmony export */   getNetflixTrending: () => (/* binding */ getNetflixTrending),\n/* harmony export */   getRedditPopular: () => (/* binding */ getRedditPopular),\n/* harmony export */   getSpotifyTrending: () => (/* binding */ getSpotifyTrending),\n/* harmony export */   getTwitterTrending: () => (/* binding */ getTwitterTrending),\n/* harmony export */   getWikipediaTrending: () => (/* binding */ getWikipediaTrending),\n/* harmony export */   getYoutubeTrending: () => (/* binding */ getYoutubeTrending)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"cheerio\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Google Trends Scraper - Using alternative trending searches\nasync function getGoogleTrending() {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://trends.google.com/trends/hottrends/visualize/internal/data\", {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n                \"Accept\": \"application/json, text/plain, */*\",\n                \"Referer\": \"https://trends.google.com/\"\n            },\n            timeout: 10000\n        });\n        if (response.data && response.data.default && response.data.default.trendingSearchesDays) {\n            const latestDay = response.data.default.trendingSearchesDays[0];\n            const searches = latestDay.trendingSearches.slice(0, 10);\n            return searches.map((search, index)=>({\n                    title: search.title.query,\n                    traffic: search.formattedTraffic || \"N/A\",\n                    thumbnail: search.image ? search.image.imageUrl : null,\n                    relatedQueries: search.relatedQueries || [],\n                    url: `https://trends.google.com/trends/explore?q=${encodeURIComponent(search.title.query)}`\n                }));\n        }\n        throw new Error(\"Invalid response format\");\n    } catch (error) {\n        console.error(\"Google Trends error:\", error);\n        throw new Error(\"Failed to fetch Google Trends data\");\n    }\n}\n// YouTube Trending Scraper - Using alternative method\nasync function getYoutubeTrending() {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://www.youtube.com/feed/trending?bp=6gQJRkVleHBsb3Jl\", {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n                \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n                \"Accept-Language\": \"en-US,en;q=0.5\"\n            },\n            timeout: 15000\n        });\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const trends = [];\n        // Look for video data in script tags\n        $(\"script\").each((i, elem)=>{\n            const scriptContent = $(elem).html();\n            if (scriptContent && scriptContent.includes(\"var ytInitialData = \")) {\n                try {\n                    const match = scriptContent.match(/var ytInitialData = ({.+?});/);\n                    if (match) {\n                        const data = JSON.parse(match[1]);\n                        const contents = data?.contents?.twoColumnBrowseResultsRenderer?.tabs?.[0]?.tabRenderer?.content?.richGridRenderer?.contents;\n                        if (contents) {\n                            contents.slice(0, 10).forEach((item)=>{\n                                const video = item?.richItemRenderer?.content?.videoRenderer;\n                                if (video && video.title && video.viewCountText && video.videoId) {\n                                    trends.push({\n                                        title: video.title.runs?.[0]?.text || video.title.simpleText,\n                                        views: video.viewCountText.simpleText,\n                                        published: video.publishedTimeText?.simpleText || \"Recently\",\n                                        thumbnail: video.thumbnail?.thumbnails?.[0]?.url,\n                                        channel: video.ownerText?.runs?.[0]?.text || \"Unknown\",\n                                        url: `https://youtube.com/watch?v=${video.videoId}`\n                                    });\n                                }\n                            });\n                        }\n                    }\n                } catch (parseError) {\n                    console.error(\"Parse error:\", parseError);\n                }\n            }\n        });\n        if (trends.length === 0) {\n            throw new Error(\"No trending videos found\");\n        }\n        return trends;\n    } catch (error) {\n        console.error(\"YouTube Trending error:\", error);\n        throw new Error(\"Failed to fetch YouTube trending data\");\n    }\n}\n// Twitter Trending Hashtags Scraper - Using getdaytrends.com\nasync function getTwitterTrending() {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://getdaytrends.com/india\", {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\"\n            },\n            timeout: 10000\n        });\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const trends = [];\n        $(\".trend-card .trend-name, .trend .trend-name, .trend-item .trend-name\").slice(0, 10).each((i, elem)=>{\n            const hashtag = $(elem).text().trim();\n            if (hashtag && hashtag.length > 0) {\n                trends.push({\n                    hashtag: hashtag,\n                    rank: i + 1,\n                    url: `https://twitter.com/search?q=${encodeURIComponent(hashtag)}`\n                });\n            }\n        });\n        if (trends.length === 0) {\n            throw new Error(\"No trending hashtags found\");\n        }\n        return trends;\n    } catch (error) {\n        console.error(\"Twitter Trending error:\", error);\n        throw new Error(\"Failed to fetch Twitter trending data\");\n    }\n}\n// Wikipedia Most Viewed Scraper\nasync function getWikipediaTrending() {\n    try {\n        const today = new Date();\n        const yesterday = new Date(today);\n        yesterday.setDate(yesterday.getDate() - 1);\n        const year = yesterday.getFullYear();\n        const month = String(yesterday.getMonth() + 1).padStart(2, \"0\");\n        const day = String(yesterday.getDate()).padStart(2, \"0\");\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://wikimedia.org/api/rest_v1/metrics/pageviews/top/en.wikipedia/all-access/${year}/${month}/${day}`, {\n            headers: {\n                \"User-Agent\": \"TrendPulse/1.0 (https://trendpulse.app)\",\n                \"Accept\": \"application/json\"\n            },\n            timeout: 10000\n        });\n        if (!response.data?.items?.[0]?.articles) {\n            throw new Error(\"Invalid Wikipedia API response\");\n        }\n        const articles = response.data.items[0].articles.filter((article)=>!article.article.startsWith(\"Special:\") && !article.article.startsWith(\"Main_Page\") && article.article !== \"-\" && article.views > 1000).slice(0, 10);\n        return articles.map((article)=>({\n                title: article.article.replace(/_/g, \" \"),\n                views: article.views.toLocaleString(),\n                rank: article.rank,\n                url: `https://en.wikipedia.org/wiki/${encodeURIComponent(article.article)}`\n            }));\n    } catch (error) {\n        console.error(\"Wikipedia Trending error:\", error);\n        throw new Error(\"Failed to fetch Wikipedia trending data\");\n    }\n}\n// Reddit Popular Posts Scraper\nasync function getRedditPopular() {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://www.reddit.com/r/popular.json?limit=15\", {\n            headers: {\n                \"User-Agent\": \"TrendPulse:v1.0 (by /u/trendpulse)\",\n                \"Accept\": \"application/json\"\n            },\n            timeout: 10000\n        });\n        if (!response.data?.data?.children) {\n            throw new Error(\"Invalid Reddit API response\");\n        }\n        const posts = response.data.data.children.filter((post)=>post.data && post.data.title && !post.data.stickied && !post.data.over_18).slice(0, 10);\n        return posts.map((post)=>({\n                title: post.data.title,\n                subreddit: post.data.subreddit_name_prefixed,\n                upvotes: post.data.ups.toLocaleString(),\n                comments: post.data.num_comments.toLocaleString(),\n                url: `https://reddit.com${post.data.permalink}`\n            }));\n    } catch (error) {\n        console.error(\"Reddit Popular error:\", error);\n        throw new Error(\"Failed to fetch Reddit trending data\");\n    }\n}\n// Spotify Top Songs Scraper - Using Kworb.net\nasync function getSpotifyTrending() {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://kworb.net/spotify/country/in.html\", {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\"\n            },\n            timeout: 10000\n        });\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const trends = [];\n        $(\"table.sortable tbody tr\").slice(0, 10).each((i, elem)=>{\n            const rank = $(elem).find(\"td:nth-child(1)\").text().trim();\n            const artistAndSong = $(elem).find(\"td:nth-child(2)\").text().trim();\n            const streams = $(elem).find(\"td:nth-child(3)\").text().trim();\n            if (artistAndSong && rank && streams) {\n                const parts = artistAndSong.split(\" - \");\n                const artist = parts[0] || \"Unknown Artist\";\n                const song = parts[1] || artistAndSong;\n                trends.push({\n                    rank: rank,\n                    song: song,\n                    artist: artist,\n                    streams: streams,\n                    url: `https://open.spotify.com/search/${encodeURIComponent(artistAndSong)}`\n                });\n            }\n        });\n        if (trends.length === 0) {\n            throw new Error(\"No trending songs found\");\n        }\n        return trends;\n    } catch (error) {\n        console.error(\"Spotify Trending error:\", error);\n        throw new Error(\"Failed to fetch Spotify trending data\");\n    }\n}\n// Netflix Top 10 Scraper - Using FlixPatrol\nasync function getNetflixTrending() {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://flixpatrol.com/top10/netflix/india/today/\", {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n                \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\"\n            },\n            timeout: 10000\n        });\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const trends = [];\n        $(\".table-top10 tbody tr, .table tbody tr\").slice(0, 10).each((i, elem)=>{\n            const rank = $(elem).find(\".table-td:first-child, td:first-child\").text().trim();\n            const title = $(elem).find(\".title, .table-td .title\").text().trim();\n            const poster = $(elem).find(\"img\").attr(\"src\");\n            if (title && rank && poster) {\n                trends.push({\n                    rank: rank,\n                    title: title,\n                    poster: poster.startsWith(\"http\") ? poster : `https://flixpatrol.com${poster}`,\n                    url: `https://www.netflix.com/search?q=${encodeURIComponent(title)}`\n                });\n            }\n        });\n        if (trends.length === 0) {\n            throw new Error(\"No trending Netflix content found\");\n        }\n        return trends;\n    } catch (error) {\n        console.error(\"Netflix Trending error:\", error);\n        throw new Error(\"Failed to fetch Netflix trending data\");\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sSUFBSXhDLE1BQU07UUFDbEI7UUFFQSxPQUFPTTtJQUNULEVBQUUsT0FBT0wsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxNQUFNLElBQUlELE1BQU07SUFDbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyZW5kcHVsc2UvLi9saWIvc2NyYXBlcnMuanM/ZDg1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgKiBhcyBjaGVlcmlvIGZyb20gJ2NoZWVyaW8nO1xuXG4vLyBHb29nbGUgVHJlbmRzIFNjcmFwZXIgLSBVc2luZyBhbHRlcm5hdGl2ZSB0cmVuZGluZyBzZWFyY2hlc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdvb2dsZVRyZW5kaW5nKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL3RyZW5kcy5nb29nbGUuY29tL3RyZW5kcy9ob3R0cmVuZHMvdmlzdWFsaXplL2ludGVybmFsL2RhdGEnLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNicsXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly90cmVuZHMuZ29vZ2xlLmNvbS8nXG4gICAgICB9LFxuICAgICAgdGltZW91dDogMTAwMDBcbiAgICB9KTtcblxuICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuZGVmYXVsdCAmJiByZXNwb25zZS5kYXRhLmRlZmF1bHQudHJlbmRpbmdTZWFyY2hlc0RheXMpIHtcbiAgICAgIGNvbnN0IGxhdGVzdERheSA9IHJlc3BvbnNlLmRhdGEuZGVmYXVsdC50cmVuZGluZ1NlYXJjaGVzRGF5c1swXTtcbiAgICAgIGNvbnN0IHNlYXJjaGVzID0gbGF0ZXN0RGF5LnRyZW5kaW5nU2VhcmNoZXMuc2xpY2UoMCwgMTApO1xuICAgICAgXG4gICAgICByZXR1cm4gc2VhcmNoZXMubWFwKChzZWFyY2gsIGluZGV4KSA9PiAoe1xuICAgICAgICB0aXRsZTogc2VhcmNoLnRpdGxlLnF1ZXJ5LFxuICAgICAgICB0cmFmZmljOiBzZWFyY2guZm9ybWF0dGVkVHJhZmZpYyB8fCAnTi9BJyxcbiAgICAgICAgdGh1bWJuYWlsOiBzZWFyY2guaW1hZ2UgPyBzZWFyY2guaW1hZ2UuaW1hZ2VVcmwgOiBudWxsLFxuICAgICAgICByZWxhdGVkUXVlcmllczogc2VhcmNoLnJlbGF0ZWRRdWVyaWVzIHx8IFtdLFxuICAgICAgICB1cmw6IGBodHRwczovL3RyZW5kcy5nb29nbGUuY29tL3RyZW5kcy9leHBsb3JlP3E9JHtlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoLnRpdGxlLnF1ZXJ5KX1gXG4gICAgICB9KSk7XG4gICAgfVxuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmb3JtYXQnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHb29nbGUgVHJlbmRzIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBHb29nbGUgVHJlbmRzIGRhdGEnKTtcbiAgfVxufVxuXG4vLyBZb3VUdWJlIFRyZW5kaW5nIFNjcmFwZXIgLSBVc2luZyBhbHRlcm5hdGl2ZSBtZXRob2RcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRZb3V0dWJlVHJlbmRpbmcoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2ZlZWQvdHJlbmRpbmc/YnA9NmdRSlJrVmxlSEJzYjNKbCcsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcbiAgICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOCcsXG4gICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjUnXG4gICAgICB9LFxuICAgICAgdGltZW91dDogMTUwMDBcbiAgICB9KTtcblxuICAgIGNvbnN0ICQgPSBjaGVlcmlvLmxvYWQocmVzcG9uc2UuZGF0YSk7XG4gICAgY29uc3QgdHJlbmRzID0gW107XG5cbiAgICAvLyBMb29rIGZvciB2aWRlbyBkYXRhIGluIHNjcmlwdCB0YWdzXG4gICAgJCgnc2NyaXB0JykuZWFjaCgoaSwgZWxlbSkgPT4ge1xuICAgICAgY29uc3Qgc2NyaXB0Q29udGVudCA9ICQoZWxlbSkuaHRtbCgpO1xuICAgICAgaWYgKHNjcmlwdENvbnRlbnQgJiYgc2NyaXB0Q29udGVudC5pbmNsdWRlcygndmFyIHl0SW5pdGlhbERhdGEgPSAnKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0gc2NyaXB0Q29udGVudC5tYXRjaCgvdmFyIHl0SW5pdGlhbERhdGEgPSAoey4rP30pOy8pO1xuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobWF0Y2hbMV0pO1xuICAgICAgICAgICAgY29uc3QgY29udGVudHMgPSBkYXRhPy5jb250ZW50cz8udHdvQ29sdW1uQnJvd3NlUmVzdWx0c1JlbmRlcmVyPy50YWJzPy5bMF0/LnRhYlJlbmRlcmVyPy5jb250ZW50Py5yaWNoR3JpZFJlbmRlcmVyPy5jb250ZW50cztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNvbnRlbnRzKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnRzLnNsaWNlKDAsIDEwKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gaXRlbT8ucmljaEl0ZW1SZW5kZXJlcj8uY29udGVudD8udmlkZW9SZW5kZXJlcjtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW8gJiYgdmlkZW8udGl0bGUgJiYgdmlkZW8udmlld0NvdW50VGV4dCAmJiB2aWRlby52aWRlb0lkKSB7XG4gICAgICAgICAgICAgICAgICB0cmVuZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB2aWRlby50aXRsZS5ydW5zPy5bMF0/LnRleHQgfHwgdmlkZW8udGl0bGUuc2ltcGxlVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHZpZGVvLnZpZXdDb3VudFRleHQuc2ltcGxlVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVkOiB2aWRlby5wdWJsaXNoZWRUaW1lVGV4dD8uc2ltcGxlVGV4dCB8fCAnUmVjZW50bHknLFxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWw6IHZpZGVvLnRodW1ibmFpbD8udGh1bWJuYWlscz8uWzBdPy51cmwsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHZpZGVvLm93bmVyVGV4dD8ucnVucz8uWzBdPy50ZXh0IHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly95b3V0dWJlLmNvbS93YXRjaD92PSR7dmlkZW8udmlkZW9JZH1gXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BhcnNlIGVycm9yOicsIHBhcnNlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodHJlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0cmVuZGluZyB2aWRlb3MgZm91bmQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJlbmRzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1lvdVR1YmUgVHJlbmRpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIFlvdVR1YmUgdHJlbmRpbmcgZGF0YScpO1xuICB9XG59XG5cbi8vIFR3aXR0ZXIgVHJlbmRpbmcgSGFzaHRhZ3MgU2NyYXBlciAtIFVzaW5nIGdldGRheXRyZW5kcy5jb21cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUd2l0dGVyVHJlbmRpbmcoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vZ2V0ZGF5dHJlbmRzLmNvbS9pbmRpYScsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2J1xuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDEwMDAwXG4gICAgfSk7XG5cbiAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKHJlc3BvbnNlLmRhdGEpO1xuICAgIGNvbnN0IHRyZW5kcyA9IFtdO1xuXG4gICAgJCgnLnRyZW5kLWNhcmQgLnRyZW5kLW5hbWUsIC50cmVuZCAudHJlbmQtbmFtZSwgLnRyZW5kLWl0ZW0gLnRyZW5kLW5hbWUnKS5zbGljZSgwLCAxMCkuZWFjaCgoaSwgZWxlbSkgPT4ge1xuICAgICAgY29uc3QgaGFzaHRhZyA9ICQoZWxlbSkudGV4dCgpLnRyaW0oKTtcbiAgICAgIGlmIChoYXNodGFnICYmIGhhc2h0YWcubGVuZ3RoID4gMCkge1xuICAgICAgICB0cmVuZHMucHVzaCh7XG4gICAgICAgICAgaGFzaHRhZzogaGFzaHRhZyxcbiAgICAgICAgICByYW5rOiBpICsgMSxcbiAgICAgICAgICB1cmw6IGBodHRwczovL3R3aXR0ZXIuY29tL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGhhc2h0YWcpfWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodHJlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0cmVuZGluZyBoYXNodGFncyBmb3VuZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0cmVuZHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVHdpdHRlciBUcmVuZGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggVHdpdHRlciB0cmVuZGluZyBkYXRhJyk7XG4gIH1cbn1cblxuLy8gV2lraXBlZGlhIE1vc3QgVmlld2VkIFNjcmFwZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXaWtpcGVkaWFUcmVuZGluZygpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUodG9kYXkpO1xuICAgIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKTtcblxuICAgIGNvbnN0IHllYXIgPSB5ZXN0ZXJkYXkuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyh5ZXN0ZXJkYXkuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKHllc3RlcmRheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgIGBodHRwczovL3dpa2ltZWRpYS5vcmcvYXBpL3Jlc3RfdjEvbWV0cmljcy9wYWdldmlld3MvdG9wL2VuLndpa2lwZWRpYS9hbGwtYWNjZXNzLyR7eWVhcn0vJHttb250aH0vJHtkYXl9YCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdVc2VyLUFnZW50JzogJ1RyZW5kUHVsc2UvMS4wIChodHRwczovL3RyZW5kcHVsc2UuYXBwKScsXG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICB0aW1lb3V0OiAxMDAwMFxuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLmRhdGE/Lml0ZW1zPy5bMF0/LmFydGljbGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgV2lraXBlZGlhIEFQSSByZXNwb25zZScpO1xuICAgIH1cblxuICAgIGNvbnN0IGFydGljbGVzID0gcmVzcG9uc2UuZGF0YS5pdGVtc1swXS5hcnRpY2xlc1xuICAgICAgLmZpbHRlcihhcnRpY2xlID0+IFxuICAgICAgICAhYXJ0aWNsZS5hcnRpY2xlLnN0YXJ0c1dpdGgoJ1NwZWNpYWw6JykgJiYgXG4gICAgICAgICFhcnRpY2xlLmFydGljbGUuc3RhcnRzV2l0aCgnTWFpbl9QYWdlJykgJiZcbiAgICAgICAgYXJ0aWNsZS5hcnRpY2xlICE9PSAnLScgJiZcbiAgICAgICAgYXJ0aWNsZS52aWV3cyA+IDEwMDBcbiAgICAgIClcbiAgICAgIC5zbGljZSgwLCAxMCk7XG5cbiAgICByZXR1cm4gYXJ0aWNsZXMubWFwKGFydGljbGUgPT4gKHtcbiAgICAgIHRpdGxlOiBhcnRpY2xlLmFydGljbGUucmVwbGFjZSgvXy9nLCAnICcpLFxuICAgICAgdmlld3M6IGFydGljbGUudmlld3MudG9Mb2NhbGVTdHJpbmcoKSxcbiAgICAgIHJhbms6IGFydGljbGUucmFuayxcbiAgICAgIHVybDogYGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFydGljbGUuYXJ0aWNsZSl9YFxuICAgIH0pKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdXaWtpcGVkaWEgVHJlbmRpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIFdpa2lwZWRpYSB0cmVuZGluZyBkYXRhJyk7XG4gIH1cbn1cblxuLy8gUmVkZGl0IFBvcHVsYXIgUG9zdHMgU2NyYXBlclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlZGRpdFBvcHVsYXIoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vci9wb3B1bGFyLmpzb24/bGltaXQ9MTUnLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ1RyZW5kUHVsc2U6djEuMCAoYnkgL3UvdHJlbmRwdWxzZSknLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgdGltZW91dDogMTAwMDBcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2UuZGF0YT8uZGF0YT8uY2hpbGRyZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBSZWRkaXQgQVBJIHJlc3BvbnNlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcG9zdHMgPSByZXNwb25zZS5kYXRhLmRhdGEuY2hpbGRyZW5cbiAgICAgIC5maWx0ZXIocG9zdCA9PiBcbiAgICAgICAgcG9zdC5kYXRhICYmIFxuICAgICAgICBwb3N0LmRhdGEudGl0bGUgJiYgXG4gICAgICAgICFwb3N0LmRhdGEuc3RpY2tpZWQgJiZcbiAgICAgICAgIXBvc3QuZGF0YS5vdmVyXzE4XG4gICAgICApXG4gICAgICAuc2xpY2UoMCwgMTApO1xuXG4gICAgcmV0dXJuIHBvc3RzLm1hcChwb3N0ID0+ICh7XG4gICAgICB0aXRsZTogcG9zdC5kYXRhLnRpdGxlLFxuICAgICAgc3VicmVkZGl0OiBwb3N0LmRhdGEuc3VicmVkZGl0X25hbWVfcHJlZml4ZWQsXG4gICAgICB1cHZvdGVzOiBwb3N0LmRhdGEudXBzLnRvTG9jYWxlU3RyaW5nKCksXG4gICAgICBjb21tZW50czogcG9zdC5kYXRhLm51bV9jb21tZW50cy50b0xvY2FsZVN0cmluZygpLFxuICAgICAgdXJsOiBgaHR0cHM6Ly9yZWRkaXQuY29tJHtwb3N0LmRhdGEucGVybWFsaW5rfWBcbiAgICB9KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVkZGl0IFBvcHVsYXIgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIFJlZGRpdCB0cmVuZGluZyBkYXRhJyk7XG4gIH1cbn1cblxuLy8gU3BvdGlmeSBUb3AgU29uZ3MgU2NyYXBlciAtIFVzaW5nIEt3b3JiLm5ldFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNwb3RpZnlUcmVuZGluZygpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9rd29yYi5uZXQvc3BvdGlmeS9jb3VudHJ5L2luLmh0bWwnLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNidcbiAgICAgIH0sXG4gICAgICB0aW1lb3V0OiAxMDAwMFxuICAgIH0pO1xuXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXNwb25zZS5kYXRhKTtcbiAgICBjb25zdCB0cmVuZHMgPSBbXTtcblxuICAgICQoJ3RhYmxlLnNvcnRhYmxlIHRib2R5IHRyJykuc2xpY2UoMCwgMTApLmVhY2goKGksIGVsZW0pID0+IHtcbiAgICAgIGNvbnN0IHJhbmsgPSAkKGVsZW0pLmZpbmQoJ3RkOm50aC1jaGlsZCgxKScpLnRleHQoKS50cmltKCk7XG4gICAgICBjb25zdCBhcnRpc3RBbmRTb25nID0gJChlbGVtKS5maW5kKCd0ZDpudGgtY2hpbGQoMiknKS50ZXh0KCkudHJpbSgpO1xuICAgICAgY29uc3Qgc3RyZWFtcyA9ICQoZWxlbSkuZmluZCgndGQ6bnRoLWNoaWxkKDMpJykudGV4dCgpLnRyaW0oKTtcblxuICAgICAgaWYgKGFydGlzdEFuZFNvbmcgJiYgcmFuayAmJiBzdHJlYW1zKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gYXJ0aXN0QW5kU29uZy5zcGxpdCgnIC0gJyk7XG4gICAgICAgIGNvbnN0IGFydGlzdCA9IHBhcnRzWzBdIHx8ICdVbmtub3duIEFydGlzdCc7XG4gICAgICAgIGNvbnN0IHNvbmcgPSBwYXJ0c1sxXSB8fCBhcnRpc3RBbmRTb25nO1xuXG4gICAgICAgIHRyZW5kcy5wdXNoKHtcbiAgICAgICAgICByYW5rOiByYW5rLFxuICAgICAgICAgIHNvbmc6IHNvbmcsXG4gICAgICAgICAgYXJ0aXN0OiBhcnRpc3QsXG4gICAgICAgICAgc3RyZWFtczogc3RyZWFtcyxcbiAgICAgICAgICB1cmw6IGBodHRwczovL29wZW4uc3BvdGlmeS5jb20vc2VhcmNoLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGFydGlzdEFuZFNvbmcpfWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodHJlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0cmVuZGluZyBzb25ncyBmb3VuZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0cmVuZHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3BvdGlmeSBUcmVuZGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggU3BvdGlmeSB0cmVuZGluZyBkYXRhJyk7XG4gIH1cbn1cblxuLy8gTmV0ZmxpeCBUb3AgMTAgU2NyYXBlciAtIFVzaW5nIEZsaXhQYXRyb2xcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROZXRmbGl4VHJlbmRpbmcoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vZmxpeHBhdHJvbC5jb20vdG9wMTAvbmV0ZmxpeC9pbmRpYS90b2RheS8nLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNicsXG4gICAgICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksKi8qO3E9MC44J1xuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDEwMDAwXG4gICAgfSk7XG5cbiAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKHJlc3BvbnNlLmRhdGEpO1xuICAgIGNvbnN0IHRyZW5kcyA9IFtdO1xuXG4gICAgJCgnLnRhYmxlLXRvcDEwIHRib2R5IHRyLCAudGFibGUgdGJvZHkgdHInKS5zbGljZSgwLCAxMCkuZWFjaCgoaSwgZWxlbSkgPT4ge1xuICAgICAgY29uc3QgcmFuayA9ICQoZWxlbSkuZmluZCgnLnRhYmxlLXRkOmZpcnN0LWNoaWxkLCB0ZDpmaXJzdC1jaGlsZCcpLnRleHQoKS50cmltKCk7XG4gICAgICBjb25zdCB0aXRsZSA9ICQoZWxlbSkuZmluZCgnLnRpdGxlLCAudGFibGUtdGQgLnRpdGxlJykudGV4dCgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IHBvc3RlciA9ICQoZWxlbSkuZmluZCgnaW1nJykuYXR0cignc3JjJyk7XG5cbiAgICAgIGlmICh0aXRsZSAmJiByYW5rICYmIHBvc3Rlcikge1xuICAgICAgICB0cmVuZHMucHVzaCh7XG4gICAgICAgICAgcmFuazogcmFuayxcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgcG9zdGVyOiBwb3N0ZXIuc3RhcnRzV2l0aCgnaHR0cCcpID8gcG9zdGVyIDogYGh0dHBzOi8vZmxpeHBhdHJvbC5jb20ke3Bvc3Rlcn1gLFxuICAgICAgICAgIHVybDogYGh0dHBzOi8vd3d3Lm5ldGZsaXguY29tL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRpdGxlKX1gXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRyZW5kcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdHJlbmRpbmcgTmV0ZmxpeCBjb250ZW50IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyZW5kcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdOZXRmbGl4IFRyZW5kaW5nIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBOZXRmbGl4IHRyZW5kaW5nIGRhdGEnKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImF4aW9zIiwiY2hlZXJpbyIsImdldEdvb2dsZVRyZW5kaW5nIiwicmVzcG9uc2UiLCJnZXQiLCJoZWFkZXJzIiwidGltZW91dCIsImRhdGEiLCJkZWZhdWx0IiwidHJlbmRpbmdTZWFyY2hlc0RheXMiLCJsYXRlc3REYXkiLCJzZWFyY2hlcyIsInRyZW5kaW5nU2VhcmNoZXMiLCJzbGljZSIsIm1hcCIsInNlYXJjaCIsImluZGV4IiwidGl0bGUiLCJxdWVyeSIsInRyYWZmaWMiLCJmb3JtYXR0ZWRUcmFmZmljIiwidGh1bWJuYWlsIiwiaW1hZ2UiLCJpbWFnZVVybCIsInJlbGF0ZWRRdWVyaWVzIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRZb3V0dWJlVHJlbmRpbmciLCIkIiwibG9hZCIsInRyZW5kcyIsImVhY2giLCJpIiwiZWxlbSIsInNjcmlwdENvbnRlbnQiLCJodG1sIiwiaW5jbHVkZXMiLCJtYXRjaCIsIkpTT04iLCJwYXJzZSIsImNvbnRlbnRzIiwidHdvQ29sdW1uQnJvd3NlUmVzdWx0c1JlbmRlcmVyIiwidGFicyIsInRhYlJlbmRlcmVyIiwiY29udGVudCIsInJpY2hHcmlkUmVuZGVyZXIiLCJmb3JFYWNoIiwiaXRlbSIsInZpZGVvIiwicmljaEl0ZW1SZW5kZXJlciIsInZpZGVvUmVuZGVyZXIiLCJ2aWV3Q291bnRUZXh0IiwidmlkZW9JZCIsInB1c2giLCJydW5zIiwidGV4dCIsInNpbXBsZVRleHQiLCJ2aWV3cyIsInB1Ymxpc2hlZCIsInB1Ymxpc2hlZFRpbWVUZXh0IiwidGh1bWJuYWlscyIsImNoYW5uZWwiLCJvd25lclRleHQiLCJwYXJzZUVycm9yIiwibGVuZ3RoIiwiZ2V0VHdpdHRlclRyZW5kaW5nIiwiaGFzaHRhZyIsInRyaW0iLCJyYW5rIiwiZ2V0V2lraXBlZGlhVHJlbmRpbmciLCJ0b2RheSIsIkRhdGUiLCJ5ZXN0ZXJkYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRheSIsIml0ZW1zIiwiYXJ0aWNsZXMiLCJmaWx0ZXIiLCJhcnRpY2xlIiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJ0b0xvY2FsZVN0cmluZyIsImdldFJlZGRpdFBvcHVsYXIiLCJjaGlsZHJlbiIsInBvc3RzIiwicG9zdCIsInN0aWNraWVkIiwib3Zlcl8xOCIsInN1YnJlZGRpdCIsInN1YnJlZGRpdF9uYW1lX3ByZWZpeGVkIiwidXB2b3RlcyIsInVwcyIsImNvbW1lbnRzIiwibnVtX2NvbW1lbnRzIiwicGVybWFsaW5rIiwiZ2V0U3BvdGlmeVRyZW5kaW5nIiwiZmluZCIsImFydGlzdEFuZFNvbmciLCJzdHJlYW1zIiwicGFydHMiLCJzcGxpdCIsImFydGlzdCIsInNvbmciLCJnZXROZXRmbGl4VHJlbmRpbmciLCJwb3N0ZXIiLCJhdHRyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/scrapers.js\n");

/***/ }),

/***/ "(api)/./pages/api/google.js":
/*!*****************************!*\
  !*** ./pages/api/google.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_scrapers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/scrapers */ \"(api)/./lib/scrapers.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_scrapers__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_scrapers__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const trends = await (0,_lib_scrapers__WEBPACK_IMPORTED_MODULE_0__.getGoogleTrending)();\n        res.status(200).json(trends);\n    } catch (error) {\n        console.error(\"Google Trends API error:\", error);\n        res.status(500).json({\n            message: \"Failed to fetch Google trends\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ29vZ2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ3VEO0FBRXhDLGVBQWVDLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBcUI7SUFDOUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsU0FBUyxNQUFNUixnRUFBaUJBO1FBQ3RDRyxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDRTtJQUN2QixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUNOLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFnQztJQUNsRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJlbmRwdWxzZS8uL3BhZ2VzL2FwaS9nb29nbGUuanM/ZmI5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IGdldEdvb2dsZVRyZW5kaW5nIH0gZnJvbSAnLi4vLi4vbGliL3NjcmFwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdHJlbmRzID0gYXdhaXQgZ2V0R29vZ2xlVHJlbmRpbmcoKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih0cmVuZHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBUcmVuZHMgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggR29vZ2xlIHRyZW5kcycgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRHb29nbGVUcmVuZGluZyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInRyZW5kcyIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/google.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgoogle.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();